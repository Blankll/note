# mysql的大小写敏感机制

​	这两天在使用一个所谓的开发平台的时候遇到了一个诡异的问题，平台运行所需的数据表在我导入数据库后显示不存在，我去数据库查看发现数据库里面是有需要的表的，但是系统就时在操作数据库的时候就是显示不存在，本来平台就是那么写的，搞得我不知所错，后来开始怀疑人生，最后才发现，平台自身代码调用数据库的时候表名是以小写调用的，而平台提供的数据库脚本，那脚本数据库名又有全大写、全小写、还有驼峰命名，下划线命名，看得我泪流满面(此处略去三千字)，没办法，又不能不用，只好寻找忽略大小写的方法。

在MySQL的默认设置中(仅Linux下，懒得理Windows)中，数据库的大小写规则如下：

　　1、数据库名与表名严格区分大小写；

　　2、表的别名严格区分大小写；

　　3、列名与列的别名在所有的情况下均忽略大小写；

​      4、字段内容默认情况下大小写不敏感。

​	在默认情况下表名是区分大小写的，那么对于一些"好不讲究"的数据库命名方式，该如何忽略大小写呢，其实很简单，只需要添加一行配置即可。MySQL中控制数据库名和表名的大小写敏感由参数lower_case_table_names控制，为0时表示区分大小写，为1时，表示将名字转化为小写后存储，不区分大小写。

​	在lower_case_table_names=0时使用大小写混用创建表名，再设置lower_case_table_names=1后，原创建的表使用时会提示不存在。

​	如果要将lower_case_table_names从0修改为1时，应先对旧数据表的表名进行处理，把所有数据库的表名先改为小写，最后再设置lower_case_table_names为1，否则可能会出现原有的大小写混用的表操作时提示不存在的问题。 

​	那么在哪里配置呢？mysql在linux中的配置文件默认在/etc/mysql/目录下，可以直接配置在mysql.cnf配置文件中，添加如下

```
[mysqld]
lower_case_table_names=1
```

也可以在conf.d目录下创建一个以.cnf结尾的文件，然后将上面的配置写入到这个文件中，重启mysql，mysql在重启之后就会读入这个配置，我们可以在mysql的终端输入如下命令查看配置是否载入成功。

```
show variables like '%lower%'
```

最后，新年快乐！